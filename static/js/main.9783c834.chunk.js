(this["webpackJsonpstacked-area-chart-d3-react-example"]=this["webpackJsonpstacked-area-chart-d3-react-example"]||[]).push([[0],{273:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(108),c=n.n(i),o=(n(273),n(109)),s=n(110),u=n(111),l=n(114),d=n(24),h=n(1),p=n.n(h),f=n(6),b=function(){return(b=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function m(e){var t=e.data,n=e.keys,i=e.areaOpacity,c=e.axisStroke,o=e.axisStrokeWidth,s=e.colorFunction,u=e.dateFormat,l=e.dots,d=e.dotsRadius,h=e.dotsStroke,p=e.dotsStrokeWidth,m=e.dotsFilter,k=e.height,y=e.margin,x=e.onClickHandler,g=e.onMouseOverHandler,O=e.xTickSize,j=e.xTicksSkip,S=e.yFormat,v=e.yTickSize,w=e.yMaxTicks,M=Object(a.useState)(""),E=M[0],T=M[1],D=Object(a.useState)(500),F=D[0],W=D[1],z=Object(a.useState)(null),C=z[0],H=z[1],R=Object(a.useRef)(null),L=Object(a.useCallback)((function(){R.current&&W(R.current.clientWidth)}),[R]);Object(a.useEffect)((function(){return window.addEventListener("resize",L),L(),function(){window.removeEventListener("resize",L)}}),[L]);var q=Object(a.useCallback)((function(e){var n=F-y.left-y.right,a=(e-y.left)/n,r=Math.round((t.length-1)*a);return Math.min(Math.max(0,r),t.length-1)}),[t,y,F]),A=function(e,t){if(R.current){var n=R.current.getBoundingClientRect(),a=e.clientX||e.touches[0].clientX,r=q(a-n.left);r===C&&t===E||(T(t),H(r),g(e,t,r))}},B=Object(a.useCallback)((function(e,n){var a=e;return C&&t[C]&&(a+=": ("+n(t[C].date)+", "+t[C][e]+")"),a}),[t,C]),J=s||Object(f.d)().domain(n).range(f.f),P=Object(a.useMemo)((function(){return Object(f.g)().keys(n).order(f.i).offset(f.h)}),[n]),X=Object(a.useMemo)((function(){return P(t)}),[t,P]),Y=Object(a.useMemo)((function(){return Object(f.e)().domain(Object(f.b)(t,(function(e){return e.date}))).range([y.left,F-y.right])}),[t,y,F]),G=Object(a.useMemo)((function(){return function(e,t,n,a){for(var r=[0,e.reduce((function(e,t){var n=Object.values(t).reduce((function(e,t){return"number"===typeof t?e+t:e}),0);return n>e?n:e}),0)],i=[],c=r[1]/a,o=Math.log(c)*Math.LOG10E+1|0,s=Math.pow(10,o-1),u=Math.ceil(c/s)*s,l=0;l<r[1];l+=u)i.push(l);return i.push(l),r[1]=l,{yTicks:i,yScale:Object(f.c)().domain(r).range([t-n.bottom,n.top])}}(t,k,y,w)}),[t,k,y,w]),I=G.yTicks,K=G.yScale,N=Object(a.useMemo)((function(){return Math.min(500,(F-y.left-y.right)/2)}),[y,F]),Q=Object(a.useMemo)((function(){return Object(f.a)().x((function(e){return Y(e.data.date)})).y0((function(e){return K(e[0])})).y1((function(e){return K(e[1])}))}),[Y,K]);return r.a.createElement("div",{ref:R},r.a.createElement("svg",{width:F,height:k,onMouseLeave:function(){H(null),g(null)}},r.a.createElement("g",null,t.map((function(e,t){if(t%j===0){var n=Y(e.date);return r.a.createElement("g",{key:t},r.a.createElement("line",{x1:n,x2:n,y1:k-y.bottom+O,y2:y.top,strokeWidth:o,stroke:c}),r.a.createElement("text",{x:n,y:k-y.bottom+O,textAnchor:"middle",dy:"1.25em"},u(e.date)))}return null}))),r.a.createElement("g",null,I.map((function(e,t){var n=K(e);return r.a.createElement("g",{key:t},r.a.createElement("line",{key:t,x1:y.left-v,x2:F-y.right,y1:n,y2:n,strokeWidth:o,stroke:c}),r.a.createElement("text",{x:y.left-v,y:n,textAnchor:"end",dx:"-5px",dy:"0.35em"},S(e)))}))),r.a.createElement("g",null,X.map((function(e,n){if(e[0]){var a=function(){if(t.length>1)return{Element:"path",properties:{d:Q(e)}};var n=K(e[0][1]);return{Element:"rect",properties:{x:Y(e[0].data.date)-N/2,width:N,y:n,height:K(e[0][0])-n}}}(),c=a.Element,o=a.properties;return r.a.createElement(c,b({},o,{key:n,fill:J(e.key),opacity:i,onClick:function(t){return x(t,e.key,C)},onTouchStart:function(t){return x(t,e.key,C)},onTouchMove:function(t){return A(t,e.key)},onMouseMove:function(t){return A(t,e.key)}}),r.a.createElement("title",null,B(e.key,u)))}return null}))),C&&t[C]&&l&&function(){var e=Y(t[C].date);return r.a.createElement("g",null,r.a.createElement("line",{x1:e,x2:e,y1:y.top,y2:k-y.bottom,stroke:h,strokeWidth:p}),n.map((function(t,n){return r.a.createElement("circle",{key:n,cx:e,cy:K(X[n][C][1]),r:d,fill:J(t),stroke:h,strokeWidth:p,filter:m},r.a.createElement("title",null,B(t,u)))})))}()))}m.propTypes={data:p.a.array.isRequired,keys:p.a.array.isRequired,areaOpacity:p.a.oneOfType([p.a.string,p.a.number]),axisStroke:p.a.string,axisStrokeWidth:p.a.number,colorFunction:p.a.func,dateFormat:p.a.func,dots:p.a.bool,dotsRadius:p.a.oneOfType([p.a.string,p.a.number]),dotsStroke:p.a.string,dotsStrokeWidth:p.a.number,dotsFilter:p.a.string,height:p.a.number,margin:p.a.object,onClickHandler:p.a.func,onMouseOverHandler:p.a.func,xTickSize:p.a.number,xTicksSkip:p.a.number,yFormat:p.a.func,yMaxTicks:p.a.number,yTickSize:p.a.number},m.defaultProps={areaOpacity:"0.9",axisStroke:"#ccc",axisStrokeWidth:2,dateFormat:Object(f.j)("%Y"),dots:!0,dotsFilter:"brightness(1.25)",dotsRadius:10,dotsStroke:"#aaa",dotsStrokeWidth:2,height:500,margin:{top:20,right:30,bottom:30,left:60},onClickHandler:function(e,t,n){},onMouseOverHandler:function(e,t,n){},xTickSize:5,xTicksSkip:1,yFormat:function(e){return e},yMaxTicks:5,yTickSize:5};var k=m,y=n(5),x=[{date:new Date(2005,0,1),apples:750,bananas:300,cherries:100,durians:50},{date:new Date(2006,0,1),apples:1e3,bananas:400,cherries:150,durians:75},{date:new Date(2007,0,1),apples:1300,bananas:500,cherries:250,durians:100},{date:new Date(2008,0,1),apples:1600,bananas:600,cherries:300,durians:150},{date:new Date(2009,0,1),apples:1800,bananas:800,cherries:400,durians:200},{date:new Date(2010,0,1),apples:2100,bananas:1e3,cherries:500,durians:225},{date:new Date(2011,0,1),apples:2200,bananas:1100,cherries:600,durians:250},{date:new Date(2012,0,1),apples:2400,bananas:1200,cherries:500,durians:300},{date:new Date(2013,0,1),apples:2200,bananas:1400,cherries:550,durians:400},{date:new Date(2014,0,1),apples:2300,bananas:1700,cherries:500,durians:500},{date:new Date(2015,0,1),apples:2100,bananas:1900,cherries:400,durians:400},{date:new Date(2016,0,1),apples:2e3,bananas:1500,cherries:450,durians:300},{date:new Date(2017,0,1),apples:1900,bananas:1300,cherries:600,durians:200},{date:new Date(2018,0,1),apples:1800,bananas:1400,cherries:700,durians:100},{date:new Date(2019,0,1),apples:1700,bananas:1400,cherries:800,durians:50}],g=["apples","bananas","cherries","durians"],O=d.a().domain(g).range(d.b),j=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(k,{data:x,keys:g,areaOpacity:"0.9",axisStroke:"#ccc",axisStrokeWidth:2,colorFunction:O,dateFormat:d.c("%Y"),dots:!0,dotsRadius:10,dotsStroke:"#aaa",dotsStrokeWidth:2,dotsFilter:"brightness(1.25)",height:500,margin:{top:20,right:30,bottom:30,left:60},onClickHandler:function(e,t,n){},onMouseOverHandler:function(e,t,n){},xTickSize:5,xTicksSkip:3,yTickSize:5,yFormat:function(e){return e},yMaxTicks:5}),Object(y.jsx)("svg",{children:Object(y.jsx)("g",{children:g.map((function(e,t){return Object(y.jsxs)("g",{transform:"translate(0,"+30*t+")",children:[Object(y.jsx)("rect",{x:"0",y:"0",width:"25",height:"25",fill:O(e)}),Object(y.jsx)("text",{x:"30",y:"18",children:e})]},t)}))})})]})}}]),n}(a.Component);c.a.render(Object(y.jsx)(j,{}),document.getElementById("root"))}},[[278,1,2]]]);
//# sourceMappingURL=main.9783c834.chunk.js.map