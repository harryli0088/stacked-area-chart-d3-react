(this["webpackJsonpstacked-area-chart-d3-react-example"]=this["webpackJsonpstacked-area-chart-d3-react-example"]||[]).push([[0],{273:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(108),c=a.n(i),s=(a(273),a(109)),o=a(110),u=a(111),l=a(114),d=a(24),h=a(6),b=a(1),p=a.n(b),f=function(){return(f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function m(e){var t=e.data,a=e.keys,i=e.areaOpacity,c=e.axisStroke,s=e.axisStrokeWidth,o=e.colorFunction,u=e.dateFormat,l=e.dots,d=e.dotsRadius,b=e.dotsStroke,p=e.dotsStrokeWidth,m=e.dotsFilter,k=e.height,y=e.margin,j=e.onClickHandler,x=e.onMouseOverHandler,O=e.xTickSize,g=e.xTicksSkip,v=e.yFormat,S=e.yTickSize,w=e.yMaxTicks,M=Object(n.useState)(""),E=M[0],T=M[1],D=Object(n.useState)(500),F=D[0],W=D[1],C=Object(n.useState)(null),z=C[0],R=C[1],H=Object(n.useRef)(null),L=Object(n.useCallback)((function(){H.current&&W(H.current.clientWidth)}),[H]);Object(n.useEffect)((function(){return window.addEventListener("resize",L),L(),function(){window.removeEventListener("resize",L)}}),[L]);var A=Object(n.useCallback)((function(e){var a=F-y.left-y.right,n=(e-y.left)/a,r=Math.round((t.length-1)*n);return Math.min(Math.max(0,r),t.length-1)}),[t,y,F]),B=function(e,t){if(H.current){var a=H.current.getBoundingClientRect(),n=e.clientX||e.touches[0].clientX,r=A(n-a.left);r===z&&t===E||(T(t),R(r),x(e,t,r))}},q=Object(n.useCallback)((function(e,a){var n=e;return z&&t[z]&&(n+=": ("+a(t[z].date)+", "+t[z][e]+")"),n}),[t,z]),J=o||Object(h.d)().domain(a).range(h.f),P=Object(n.useMemo)((function(){return Object(h.g)().keys(a).order(h.i).offset(h.h)}),[a]),X=Object(n.useMemo)((function(){return P(t)}),[t,P]),Y=Object(n.useMemo)((function(){return Object(h.e)().domain(Object(h.b)(t,(function(e){return e.date}))).range([y.left,F-y.right])}),[t,y,F]),G=Object(n.useMemo)((function(){return function(e,t,a,n){for(var r=[0,e.reduce((function(e,t){var a=Object.values(t).reduce((function(e,t){return"number"===typeof t?e+t:e}),0);return a>e?a:e}),0)],i=[],c=r[1]/n,s=Math.log(c)*Math.LOG10E+1|0,o=Math.pow(10,s-1),u=Math.ceil(c/o)*o,l=0;l<r[1];l+=u)i.push(l);return i.push(l),r[1]=l,{yTicks:i,yScale:Object(h.c)().domain(r).range([t-a.bottom,a.top])}}(t,k,y,w)}),[t,k,y,w]),I=G.yTicks,N=G.yScale,_=Object(n.useMemo)((function(){return Math.min(500,(F-y.left-y.right)/2)}),[y,F]),K=Object(n.useMemo)((function(){return Object(h.a)().x((function(e){return Y(e.data.date)})).y0((function(e){return N(e[0])})).y1((function(e){return N(e[1])}))}),[Y,N]);return r.a.createElement("div",{ref:H},r.a.createElement("svg",{width:F,height:k,onMouseLeave:function(){R(null),x(null)}},r.a.createElement("g",null,t.map((function(e,t){if(t%g===0){var a=Y(e.date);return r.a.createElement("g",{key:t},r.a.createElement("line",{x1:a,x2:a,y1:k-y.bottom+O,y2:y.top,strokeWidth:s,stroke:c}),r.a.createElement("text",{x:a,y:k-y.bottom+O,textAnchor:"middle",dy:"1.25em"},u(e.date)))}return null}))),r.a.createElement("g",null,I.map((function(e,t){var a=N(e);return r.a.createElement("g",{key:t},r.a.createElement("line",{key:t,x1:y.left-S,x2:F-y.right,y1:a,y2:a,strokeWidth:s,stroke:c}),r.a.createElement("text",{x:y.left-S,y:a,textAnchor:"end",dx:"-5px",dy:"0.35em"},v(e)))}))),r.a.createElement("g",null,X.map((function(e,a){if(e[0]){var n=function(){if(t.length>1)return{Element:"path",properties:{d:K(e)}};var a=N(e[0][1]);return{Element:"rect",properties:{x:Y(e[0].data.date)-_/2,width:_,y:a,height:N(e[0][0])-a}}}(),c=n.Element,s=n.properties;return r.a.createElement(c,f({},s,{key:a,fill:J(e.key),opacity:i,onClick:function(t){return j(t,e.key,z)},onTouchStart:function(t){return j(t,e.key,z)},onTouchMove:function(t){return B(t,e.key)},onMouseMove:function(t){return B(t,e.key)}}),r.a.createElement("title",null,q(e.key,u)))}return null}))),z&&t[z]&&l&&function(){var e=Y(t[z].date);return r.a.createElement("g",null,r.a.createElement("line",{x1:e,x2:e,y1:y.top,y2:k-y.bottom,stroke:b,strokeWidth:p}),a.map((function(t,a){return r.a.createElement("circle",{key:a,cx:e,cy:N(X[a][z][1]),r:d,fill:J(t),stroke:b,strokeWidth:p,filter:m},r.a.createElement("title",null,q(t,u)))})))}()))}m.propTypes={data:p.a.array.isRequired,keys:p.a.array.isRequired,areaOpacity:p.a.oneOfType([p.a.string,p.a.number]),axisStroke:p.a.string,axisStrokeWidth:p.a.number,colorFunction:p.a.func,dateFormat:p.a.func,dots:p.a.bool,dotsRadius:p.a.oneOfType([p.a.string,p.a.number]),dotsStroke:p.a.string,dotsStrokeWidth:p.a.number,dotsFilter:p.a.string,height:p.a.number,margin:p.a.object,onClickHandler:p.a.func,onMouseOverHandler:p.a.func,xTickSize:p.a.number,xTicksSkip:p.a.number,yFormat:p.a.func,yMaxTicks:p.a.number,yTickSize:p.a.number},m.defaultProps={areaOpacity:"0.9",axisStroke:"#ccc",axisStrokeWidth:2,dateFormat:Object(h.j)("%Y"),dots:!0,dotsFilter:"brightness(1.25)",dotsRadius:10,dotsStroke:"#aaa",dotsStrokeWidth:2,height:500,margin:{top:20,right:30,bottom:30,left:60},onClickHandler:function(e,t,a){},onMouseOverHandler:function(e,t,a){},xTickSize:5,xTicksSkip:1,yFormat:function(e){return e},yMaxTicks:5,yTickSize:5};var k=m,y=a(3),j=[{date:new Date(2005,0,1),apples:750,bananas:300,cherries:100,durians:50},{date:new Date(2006,0,1),apples:1e3,bananas:400,cherries:150,durians:75},{date:new Date(2007,0,1),apples:1300,bananas:500,cherries:250,durians:100},{date:new Date(2008,0,1),apples:1600,bananas:600,cherries:300,durians:150},{date:new Date(2009,0,1),apples:1800,bananas:800,cherries:400,durians:200},{date:new Date(2010,0,1),apples:2100,bananas:1e3,cherries:500,durians:225},{date:new Date(2011,0,1),apples:2200,bananas:1100,cherries:600,durians:250},{date:new Date(2012,0,1),apples:2400,bananas:1200,cherries:500,durians:300},{date:new Date(2013,0,1),apples:2200,bananas:1400,cherries:550,durians:400},{date:new Date(2014,0,1),apples:2300,bananas:1700,cherries:500,durians:500},{date:new Date(2015,0,1),apples:2100,bananas:1900,cherries:400,durians:400},{date:new Date(2016,0,1),apples:2e3,bananas:1500,cherries:450,durians:300},{date:new Date(2017,0,1),apples:1900,bananas:1300,cherries:600,durians:200},{date:new Date(2018,0,1),apples:1800,bananas:1400,cherries:700,durians:100},{date:new Date(2019,0,1),apples:1700,bananas:1400,cherries:800,durians:50}],x=["apples","bananas","cherries","durians"],O=Object(d.a)().domain(x).range(d.b),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{children:"Responsive Stacked Area Chart"}),Object(y.jsx)("p",{children:Object(y.jsx)("i",{children:"Built using D3.js and React.js"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://github.com/harryli0088/stacked-area-chart-d3-react",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/harryli0088/stacked-area-chart-d3-react"})}),Object(y.jsx)(k,{data:j,keys:x,areaOpacity:"0.9",axisStroke:"#ccc",axisStrokeWidth:2,colorFunction:O,dateFormat:Object(d.c)("%Y"),dots:!0,dotsRadius:10,dotsStroke:"#aaa",dotsStrokeWidth:2,dotsFilter:"brightness(1.25)",height:300,margin:{top:20,right:0,bottom:30,left:50},onClickHandler:function(e,t,a){},onMouseOverHandler:function(e,t,a){},xTickSize:5,xTicksSkip:3,yTickSize:5,yFormat:function(e){return e},yMaxTicks:5}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{children:Object(y.jsx)("svg",{children:Object(y.jsx)("g",{children:x.map((function(e,t){return Object(y.jsxs)("g",{transform:"translate(0,"+30*t+")",children:[Object(y.jsx)("rect",{x:"0",y:"0",width:"25",height:"25",fill:O(e)}),Object(y.jsx)("text",{x:"30",y:"18",children:e})]},t)}))})})})]})}}]),a}(n.Component);c.a.render(Object(y.jsx)(g,{}),document.getElementById("root"))}},[[278,1,2]]]);
//# sourceMappingURL=main.61fe9155.chunk.js.map